<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Go CLIs: Creating Subcommands and Flags | Adam Faris</title>
<meta name="keywords" content="">
<meta name="description" content="Using urfave/cli to create polished CLI applications">
<meta name="author" content="">
<link rel="canonical" href="https://amf3.github.io/articles/code/go/cli_args/">
<meta name="google-site-verification" content="6ZFu-1_Lir3DsFJP8sshXEJ1_SjtFUw9TIISOcaJh7E">
<meta name="msvalidate.01" content="C1E02AC59FE7ECBDB6D9EFB7D5E02B65">
<link crossorigin="anonymous" href="/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css" integrity="sha256-NDzEgLn/yPBMy&#43;XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://amf3.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://amf3.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://amf3.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://amf3.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://amf3.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://amf3.github.io/articles/code/go/cli_args/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-MKR06D6KGD"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-MKR06D6KGD');
        }
      </script><meta property="og:url" content="https://amf3.github.io/articles/code/go/cli_args/">
  <meta property="og:site_name" content="Adam Faris">
  <meta property="og:title" content="Go CLIs: Creating Subcommands and Flags">
  <meta property="og:description" content="Using urfave/cli to create polished CLI applications">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="articles">
    <meta property="article:published_time" content="2025-09-29T17:17:10-04:00">
    <meta property="article:modified_time" content="2025-09-29T17:17:10-04:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Go CLIs: Creating Subcommands and Flags">
<meta name="twitter:description" content="Using urfave/cli to create polished CLI applications">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "articles",
      "item": "https://amf3.github.io/articles/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Go CLIs: Creating Subcommands and Flags",
      "item": "https://amf3.github.io/articles/code/go/cli_args/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Go CLIs: Creating Subcommands and Flags",
  "name": "Go CLIs: Creating Subcommands and Flags",
  "description": "Using urfave/cli to create polished CLI applications",
  "keywords": [
    
  ],
  "articleBody": "Adding Subcommands to Go CLIs Command Line Interfaces (CLIs) use subcommands and flags to enable different program features. A subcommand is a grouping of related features, and flags are options for controlling those features. The openssl command provides a great example of subcommands and flags. openssl rand -base64 8 will generate 8 random bytes of data with hexadecimal output. The subcommand is “rand” and “-base64” is the flag. Other openssl subcommands like “s_client” or “x509”, provide different features and each has their own options.\nWhen running the openssl command, the shell passes each space separated value into an argument list. It’s possible to parse the list by checking if the second value is a subcommand, then looping over the rest to figure out which are flags. Some programs like git take this further by treating subcommands as seperate executables. git status actually runs the git-status command in a subshell. The approach works but keeping help output and flag parsing consistent between executables gets messy.\nFortunately several libraries are available to make subcommands and flags easier to manage. The one that I finally chose is urfave/cli which offers a builder style API. The examples below use version 3 of the library which can be imported as:\nimport \"github.com/urfave/cli/v3\" urfave/cli with flags This is how simple the urfave/cli library is to use. I configure a cli.Command struct, then call Run() to execute it.\nfunc main() { cmd := \u0026cli.Command{ ... struct goes here ... } if err := cmd.Run(context.Background(), os.Args); err != nil { log.Fatal(err) } } So what does the struct inside cli.Command look like? It’s a slice of Flag interfaces. allowing us to freely mix different flag types like StringFlag, BoolFlag, or IntFlag.\nFlags: []cli.Flag{ \u0026cli.IntFlag{ ... }, \u0026cli.BoolFlag{ ... }, }, The other struct field is Action which runs a function after parsing the flags. The function can either be inline or passed as a reference. Here is an inline example.\nAction: func(ctx context.Context, cmd *cli.Command) error { if cmd.Bool(\"hello\") { hello(cmd.String(\"name\"), cmd.Int(\"count\")) } return nil }, This is what my populated main() looks like.\nfunc main() { cmd := \u0026cli.Command{ Flags: []cli.Flag{ \u0026cli.BoolFlag{ Name: \"hello\", Required: false, Usage: \"Will greet a person with 'Hello'\", }, \u0026cli.BoolFlag{ Name: \"goodbye\", Required: false, Usage: \"Will tell a person 'Goodbye'\", }, \u0026cli.IntFlag{ Name: \"count\", Usage: \"How many times to invoke function\", Required: false, Value: 1, }, \u0026cli.StringFlag{ Name: \"name\", Usage: \"Tell me your name\", Required: true, // \u003c- throws an error and prints help statement if name is not defined }, }, Action: func(ctx context.Context, cmd *cli.Command) error { if cmd.Bool(\"hello\") { hello(cmd.String(\"name\"), cmd.Int(\"count\")) } return nil }, } if err := cmd.Run(context.Background(), os.Args); err != nil { log.Fatal(err) } } A complete working example using flags can be downloaded.\nFlags Demo When invoked without the –name flag which is marked required, urfave/cli will throw an error and print the help statement.\n$ go run flag_example.go --count 2 --hello NAME: flag_example - A new cli application USAGE: flag_example OPTIONS: --hello Will greet a person with 'Hello' (default: false) --goodbye Will tell a person 'Goodbye' (default: false) --count int How many times to invoke function (default: 1) --name string Tell me your name --help, -h show help 2025/10/02 08:36:19 Required flag \"name\" not set exit status 1 Adding the –name flag results in it working as expected.\n$ go run flag_example.go --count 2 --hello --name Adam Hello Adam Hello Adam urfave/cli with subcommands Subcommands are added in a similar way, except instead of using a slice of Flag, we are using a slice of Command which I described above. Instead of using –hello or –goodbye as a flag, this example creates the hello and goodbye subcommands.\nfunc hello(ctx context.Context, cmd *cli.Command) error { fmt.Println(\"Hello\") return nil } func goodbye(ctx context.Context, cmd *cli.Command) error { fmt.Println(\"Goodbye\") return nil } func main() { cmd := \u0026cli.Command{ Commands: []*cli.Command{ { Name: \"hello\", Usage: \"Greets a person with 'Hello'\", Action: hello, }, { Name: \"goodbye\", Usage: \"Tells a person 'Goodbye'\", Action: goodbye, }, }, } if err := cmd.Run(context.Background(), os.Args); err != nil { log.Fatal(err) } } Commands Demo The autogenerated help statement when a subcommand isn’t used.\n$ go run command_example.go NAME: command_example - A new cli application USAGE: command_example [global options] [command [command options]] COMMANDS: hello Greets a person with 'Hello' goodbye Tells a person 'Goodbye' help, h Shows a list of commands or help for one command GLOBAL OPTIONS: --help, -h show help Invoking the goodbye subcommand\n$ go run command_example.go goodbye Goodbye Combining flags and subcommands Now that we know how flags and subcommands work, lets combine them to get that openssl like experience. But this is the great part, because subcommands are a slice of Command, and we know that Command accepts a slice of Flag, we already know how this works. Simply define a Flag for each subcommand.\nHere’s an example where the hello subcommand supports a name flag and the goodbye subcommand supports a count flag.\nfunc main() { cmd := \u0026cli.Command{ Commands: []*cli.Command{ { Name: \"hello\", Usage: \"Greets a person with 'Hello'\", Action: runIt, Flags: []cli.Flag{ \u0026cli.StringFlag{ Name: \"name\", Usage: \"Tell me your name\", Required: true, // \u003c- throws an error and prints help statement if name is not defined }, }, }, { Name: \"goodbye\", Usage: \"Tells a person 'Goodbye'\", Action: runIt, Flags: []cli.Flag{ \u0026cli.IntFlag{ Name: \"count\", Usage: \"How many times to invoke function\", Required: false, Value: 1, }, }, }, }, } A complete example that combines flags and subcommands is available for download.\nCombination Demo Running the demo without any options\n$ go run combo_example.go NAME: combo_example - A new cli application USAGE: combo_example [global options] [command [command options]] COMMANDS: hello Greets a person with 'Hello' goodbye Tells a person 'Goodbye' help, h Shows a list of commands or help for one command GLOBAL OPTIONS: --help, -h show help Running the demo with a subcommand missing a required flag\n$ go run combo_example.go hello NAME: combo_example hello - Greets a person with 'Hello' USAGE: combo_example hello OPTIONS: --name string Tell me your name --help, -h show help 2025/10/05 09:33:19 Required flag \"name\" not set exit status 1 Running the demo successfully\n% go run combo_example.go hello --name Adam Hello Adam Accessing Set Values The urfave API offers several functions to access the set values, which are found in online documentation.\nThese are the functions I find myself using:\nfunc (cmd *Command) Names() []string func (cmd *Command) String(name string) string func (cmd *Command) Bool(name string) bool func (cmd *Command) Int(name string) int Let’s go back to the earlier combo example using these CLI options go run combo_example.go hello --name Adam. This is the code block used in the example.\nfunc runIt(ctx context.Context, cmd *cli.Command) error { switch cmd.Name { case \"hello\": hello(cmd.String(\"name\")) case \"goodbye\": goodbye(cmd.Int(\"count\")) default: fmt.Println(\"Unknown command\") } return nil } I use cmd.Name to access the user provided subcommand. To access user provided options (flags), use cmd.String, cmd.Int, or cmd.Bool. Other variations like cmd.Int64 do exist. Check online documentation if needed.\nurfave is now myfave I started this post as a few notes for myself while learning urfave/cli, but it turned into a great reminder of how flexible the library is. It keeps command structure clear, couples help statements and actions to flags and subcommands, resulting in polished CLIs.\nIf you’re building a Go CLI and want a simple API for managing subcommands and options, give urfave/cli a try. You’ll spend more time thinking about command logic and less time manaaging subcommands or flag options.\nI can be found on Bluesky if you want to trade notes on building CLIs.\n",
  "wordCount" : "1265",
  "inLanguage": "en",
  "datePublished": "2025-09-29T17:17:10-04:00",
  "dateModified": "2025-09-29T17:17:10-04:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://amf3.github.io/articles/code/go/cli_args/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Adam Faris",
    "logo": {
      "@type": "ImageObject",
      "url": "https://amf3.github.io/favicon.ico"
    }
  }
}
</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://amf3.github.io/" accesskey="h" title="Adam Faris (Alt + H)">Adam Faris</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://amf3.github.io/search/" title="search (Alt &#43; /)" accesskey=/>
                    <span>search</span>
                </a>
            </li>
            <li>
                <a href="https://amf3.github.io/articles/" title="articles">
                    <span>articles</span>
                </a>
            </li>
            <li>
                <a href="https://amf3.github.io/about/" title="about">
                    <span>about</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://amf3.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://amf3.github.io/articles/">articles</a></div>
    <h1 class="post-title entry-hint-parent">
      Go CLIs: Creating Subcommands and Flags
    </h1>
    <div class="post-description">
      Using urfave/cli to create polished CLI applications
    </div>
    <div class="post-meta"><span title='2025-09-29 17:17:10 -0400 -0400'>September 29, 2025</span>&nbsp;·&nbsp;<span>1265 words</span>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#adding-subcommands-to-go-clis" aria-label="Adding Subcommands to Go CLIs">Adding Subcommands to Go CLIs</a></li>
                <li>
                    <a href="#urfavecli-with-flags" aria-label="urfave/cli with flags">urfave/cli with flags</a><ul>
                        
                <li>
                    <a href="#flags-demo" aria-label="Flags Demo">Flags Demo</a></li></ul>
                </li>
                <li>
                    <a href="#urfavecli-with-subcommands" aria-label="urfave/cli with subcommands">urfave/cli with subcommands</a><ul>
                        
                <li>
                    <a href="#commands-demo" aria-label="Commands Demo">Commands Demo</a></li></ul>
                </li>
                <li>
                    <a href="#combining-flags-and-subcommands" aria-label="Combining flags and subcommands">Combining flags and subcommands</a><ul>
                        
                <li>
                    <a href="#combination-demo" aria-label="Combination Demo">Combination Demo</a></li></ul>
                </li>
                <li>
                    <a href="#accessing-set-values" aria-label="Accessing Set Values">Accessing Set Values</a></li>
                <li>
                    <a href="#urfave-is-now-myfave" aria-label="urfave is now myfave">urfave is now myfave</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="adding-subcommands-to-go-clis">Adding Subcommands to Go CLIs<a hidden class="anchor" aria-hidden="true" href="#adding-subcommands-to-go-clis">#</a></h2>
<p>Command Line Interfaces (CLIs) use subcommands and flags to enable different program features.  A
subcommand is a grouping of related features, and flags are options for controlling those features.  The openssl
command provides a great example of subcommands and flags. <code>openssl rand -base64 8</code> will generate 8 random bytes of
data with hexadecimal output.  The subcommand is &ldquo;rand&rdquo; and &ldquo;-base64&rdquo; is the flag.  Other openssl subcommands
like &ldquo;s_client&rdquo; or &ldquo;x509&rdquo;, provide different features and each has their own options.</p>
<p>When running the openssl command, the shell passes each space separated value into an argument list.  It&rsquo;s possible to
parse the list by checking if the second value is a subcommand, then looping over the rest to figure out
which are flags.  Some programs like <code>git</code> take this further by treating subcommands as seperate executables.
<code>git status</code> actually runs the <code>git-status</code> command in a subshell.  The approach works but keeping help output and
flag parsing consistent between executables gets messy.</p>
<p>Fortunately several libraries are available to make subcommands and flags easier to manage.  The one that I finally chose is <a href="https://cli.urfave.org">urfave/cli</a> which offers a builder style API.  The examples below use
version 3 of the library which can be imported as:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;github.com/urfave/cli/v3&#34;</span>
</span></span></code></pre></div><h2 id="urfavecli-with-flags">urfave/cli with flags<a hidden class="anchor" aria-hidden="true" href="#urfavecli-with-flags">#</a></h2>
<p>This is how simple the urfave/cli library is to use. I configure a <a href="https://pkg.go.dev/github.com/urfave/cli#Command">cli.Command</a>
struct, then call <a href="https://pkg.go.dev/github.com/urfave/cli#App.Run">Run()</a> to execute it.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">cmd</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Command</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">...</span> <span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">goes</span> <span style="color:#a6e22e">here</span> <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">cmd</span>.<span style="color:#a6e22e">Run</span>(<span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>(), <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Args</span>); <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatal</span>(<span style="color:#a6e22e">err</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>So what does the struct inside cli.Command look like? It&rsquo;s a slice of <a href="https://pkg.go.dev/github.com/urfave/cli#Flag">Flag</a> interfaces.
allowing us to freely mix different flag types like
<a href="https://pkg.go.dev/github.com/urfave/cli#StringFlag">StringFlag</a>, <a href="https://pkg.go.dev/github.com/urfave/cli#BoolFlag">BoolFlag</a>,
or <a href="https://pkg.go.dev/github.com/urfave/cli#IntFlag">IntFlag</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>    <span style="color:#a6e22e">Flags</span>: []<span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Flag</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">IntFlag</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">BoolFlag</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    },
</span></span></code></pre></div><p>The other struct field is <a href="https://pkg.go.dev/github.com/urfave/cli/v3#ActionFunc">Action</a> which runs a function after parsing the flags.
The function can either be inline or passed as a reference. Here is an inline example.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>    <span style="color:#a6e22e">Action</span>: <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">ctx</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Context</span>, <span style="color:#a6e22e">cmd</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Command</span>) <span style="color:#66d9ef">error</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">cmd</span>.<span style="color:#a6e22e">Bool</span>(<span style="color:#e6db74">&#34;hello&#34;</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">hello</span>(<span style="color:#a6e22e">cmd</span>.<span style="color:#a6e22e">String</span>(<span style="color:#e6db74">&#34;name&#34;</span>), <span style="color:#a6e22e">cmd</span>.<span style="color:#a6e22e">Int</span>(<span style="color:#e6db74">&#34;count&#34;</span>))
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>    },
</span></span></code></pre></div><p>This is what my populated main() looks like.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">cmd</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Command</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Flags</span>: []<span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Flag</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">BoolFlag</span>{
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Name</span>:     <span style="color:#e6db74">&#34;hello&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Required</span>: <span style="color:#66d9ef">false</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Usage</span>:    <span style="color:#e6db74">&#34;Will greet a person with &#39;Hello&#39;&#34;</span>,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">BoolFlag</span>{
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Name</span>:     <span style="color:#e6db74">&#34;goodbye&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Required</span>: <span style="color:#66d9ef">false</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Usage</span>:    <span style="color:#e6db74">&#34;Will tell a person &#39;Goodbye&#39;&#34;</span>,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">IntFlag</span>{
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Name</span>:     <span style="color:#e6db74">&#34;count&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Usage</span>:    <span style="color:#e6db74">&#34;How many times to invoke function&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Required</span>: <span style="color:#66d9ef">false</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Value</span>:    <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">StringFlag</span>{
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Name</span>:     <span style="color:#e6db74">&#34;name&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Usage</span>:    <span style="color:#e6db74">&#34;Tell me your name&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Required</span>: <span style="color:#66d9ef">true</span>, <span style="color:#75715e">// &lt;- throws an error and prints help statement if name is not defined</span>
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Action</span>: <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">ctx</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Context</span>, <span style="color:#a6e22e">cmd</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Command</span>) <span style="color:#66d9ef">error</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">cmd</span>.<span style="color:#a6e22e">Bool</span>(<span style="color:#e6db74">&#34;hello&#34;</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">hello</span>(<span style="color:#a6e22e">cmd</span>.<span style="color:#a6e22e">String</span>(<span style="color:#e6db74">&#34;name&#34;</span>), <span style="color:#a6e22e">cmd</span>.<span style="color:#a6e22e">Int</span>(<span style="color:#e6db74">&#34;count&#34;</span>))
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">cmd</span>.<span style="color:#a6e22e">Run</span>(<span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>(), <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Args</span>); <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatal</span>(<span style="color:#a6e22e">err</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>A complete working example using flags can be <a href="./assets/flag_example.go">downloaded</a>.</p>
<h3 id="flags-demo">Flags Demo<a hidden class="anchor" aria-hidden="true" href="#flags-demo">#</a></h3>
<p>When invoked without the &ndash;name flag which is marked required, urfave/cli will throw an error and print the help statement.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ go run flag_example.go --count <span style="color:#ae81ff">2</span> --hello 
</span></span><span style="display:flex;"><span>NAME:
</span></span><span style="display:flex;"><span>   flag_example - A new cli application
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>USAGE:
</span></span><span style="display:flex;"><span>   flag_example
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>OPTIONS:
</span></span><span style="display:flex;"><span>   --hello        Will greet a person with <span style="color:#e6db74">&#39;Hello&#39;</span> <span style="color:#f92672">(</span>default: false<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>   --goodbye      Will tell a person <span style="color:#e6db74">&#39;Goodbye&#39;</span> <span style="color:#f92672">(</span>default: false<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>   --count int    How many times to invoke <span style="color:#66d9ef">function</span> <span style="color:#f92672">(</span>default: 1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>   --name string  Tell me your name
</span></span><span style="display:flex;"><span>   --help, -h     show help
</span></span><span style="display:flex;"><span>2025/10/02 08:36:19 Required flag <span style="color:#e6db74">&#34;name&#34;</span> not set
</span></span><span style="display:flex;"><span>exit status <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><p>Adding the &ndash;name flag results in it working as expected.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ go run flag_example.go --count <span style="color:#ae81ff">2</span> --hello --name Adam
</span></span><span style="display:flex;"><span>Hello Adam
</span></span><span style="display:flex;"><span>Hello Adam
</span></span></code></pre></div><h2 id="urfavecli-with-subcommands">urfave/cli with subcommands<a hidden class="anchor" aria-hidden="true" href="#urfavecli-with-subcommands">#</a></h2>
<p>Subcommands are added in a similar way, except instead of using a slice of Flag, we are using a slice of
Command which I described above.  Instead of using &ndash;hello or &ndash;goodbye as a flag, this example creates the
hello and goodbye subcommands.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">hello</span>(<span style="color:#a6e22e">ctx</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Context</span>, <span style="color:#a6e22e">cmd</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Command</span>) <span style="color:#66d9ef">error</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Hello&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">goodbye</span>(<span style="color:#a6e22e">ctx</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Context</span>, <span style="color:#a6e22e">cmd</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Command</span>) <span style="color:#66d9ef">error</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Goodbye&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">cmd</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Command</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Commands</span>: []<span style="color:#f92672">*</span><span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Command</span>{
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Name</span>:   <span style="color:#e6db74">&#34;hello&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Usage</span>:  <span style="color:#e6db74">&#34;Greets a person with &#39;Hello&#39;&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Action</span>: <span style="color:#a6e22e">hello</span>,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Name</span>:   <span style="color:#e6db74">&#34;goodbye&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Usage</span>:  <span style="color:#e6db74">&#34;Tells a person &#39;Goodbye&#39;&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Action</span>: <span style="color:#a6e22e">goodbye</span>,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">cmd</span>.<span style="color:#a6e22e">Run</span>(<span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>(), <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Args</span>); <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatal</span>(<span style="color:#a6e22e">err</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="commands-demo">Commands Demo<a hidden class="anchor" aria-hidden="true" href="#commands-demo">#</a></h3>
<p>The autogenerated help statement when a subcommand isn&rsquo;t used.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ go run command_example.go
</span></span><span style="display:flex;"><span>NAME:
</span></span><span style="display:flex;"><span>   command_example - A new cli application
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>USAGE:
</span></span><span style="display:flex;"><span>   command_example <span style="color:#f92672">[</span>global options<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>command <span style="color:#f92672">[</span>command options<span style="color:#f92672">]]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>COMMANDS:
</span></span><span style="display:flex;"><span>   hello    Greets a person with <span style="color:#e6db74">&#39;Hello&#39;</span>
</span></span><span style="display:flex;"><span>   goodbye  Tells a person <span style="color:#e6db74">&#39;Goodbye&#39;</span>
</span></span><span style="display:flex;"><span>   help, h  Shows a list of commands or help <span style="color:#66d9ef">for</span> one command
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>GLOBAL OPTIONS:
</span></span><span style="display:flex;"><span>   --help, -h  show help
</span></span></code></pre></div><p>Invoking the goodbye subcommand</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ go run command_example.go goodbye
</span></span><span style="display:flex;"><span>Goodbye
</span></span></code></pre></div><h2 id="combining-flags-and-subcommands">Combining flags and subcommands<a hidden class="anchor" aria-hidden="true" href="#combining-flags-and-subcommands">#</a></h2>
<p>Now that we know how flags and subcommands work, lets combine them to get that openssl like experience.
But this is the great part, because subcommands are a slice of Command, and we know that Command accepts
a slice of Flag, we already know how this works.  Simply define a Flag for each subcommand.</p>
<p>Here&rsquo;s an example where the hello subcommand supports a name flag and the goodbye subcommand supports a count flag.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">cmd</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Command</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Commands</span>: []<span style="color:#f92672">*</span><span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Command</span>{
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Name</span>:   <span style="color:#e6db74">&#34;hello&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Usage</span>:  <span style="color:#e6db74">&#34;Greets a person with &#39;Hello&#39;&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Action</span>: <span style="color:#a6e22e">runIt</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Flags</span>: []<span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Flag</span>{
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">StringFlag</span>{
</span></span><span style="display:flex;"><span>                        <span style="color:#a6e22e">Name</span>:     <span style="color:#e6db74">&#34;name&#34;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#a6e22e">Usage</span>:    <span style="color:#e6db74">&#34;Tell me your name&#34;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#a6e22e">Required</span>: <span style="color:#66d9ef">true</span>, <span style="color:#75715e">// &lt;- throws an error and prints help statement if name is not defined</span>
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Name</span>:   <span style="color:#e6db74">&#34;goodbye&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Usage</span>:  <span style="color:#e6db74">&#34;Tells a person &#39;Goodbye&#39;&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">Action</span>: <span style="color:#a6e22e">runIt</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">Flags</span>: []<span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Flag</span>{
</span></span><span style="display:flex;"><span>                        <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">IntFlag</span>{
</span></span><span style="display:flex;"><span>                            <span style="color:#a6e22e">Name</span>:     <span style="color:#e6db74">&#34;count&#34;</span>,
</span></span><span style="display:flex;"><span>                            <span style="color:#a6e22e">Usage</span>:    <span style="color:#e6db74">&#34;How many times to invoke function&#34;</span>,
</span></span><span style="display:flex;"><span>                            <span style="color:#a6e22e">Required</span>: <span style="color:#66d9ef">false</span>,
</span></span><span style="display:flex;"><span>                            <span style="color:#a6e22e">Value</span>:    <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>                        },
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>A complete example that combines flags and subcommands is available for <a href="./assets/combo_example.go">download</a>.</p>
<h3 id="combination-demo">Combination Demo<a hidden class="anchor" aria-hidden="true" href="#combination-demo">#</a></h3>
<p>Running the demo without any options</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ go run combo_example.go 
</span></span><span style="display:flex;"><span>NAME:
</span></span><span style="display:flex;"><span>   combo_example - A new cli application
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>USAGE:
</span></span><span style="display:flex;"><span>   combo_example <span style="color:#f92672">[</span>global options<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>command <span style="color:#f92672">[</span>command options<span style="color:#f92672">]]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>COMMANDS:
</span></span><span style="display:flex;"><span>   hello    Greets a person with <span style="color:#e6db74">&#39;Hello&#39;</span>
</span></span><span style="display:flex;"><span>   goodbye  Tells a person <span style="color:#e6db74">&#39;Goodbye&#39;</span>
</span></span><span style="display:flex;"><span>   help, h  Shows a list of commands or help <span style="color:#66d9ef">for</span> one command
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>GLOBAL OPTIONS:
</span></span><span style="display:flex;"><span>   --help, -h  show help
</span></span></code></pre></div><p>Running the demo with a subcommand missing a required flag</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ go run combo_example.go hello                                                 
</span></span><span style="display:flex;"><span>NAME:
</span></span><span style="display:flex;"><span>   combo_example hello - Greets a person with <span style="color:#e6db74">&#39;Hello&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>USAGE:
</span></span><span style="display:flex;"><span>   combo_example hello
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>OPTIONS:
</span></span><span style="display:flex;"><span>   --name string  Tell me your name
</span></span><span style="display:flex;"><span>   --help, -h     show help
</span></span><span style="display:flex;"><span>2025/10/05 09:33:19 Required flag <span style="color:#e6db74">&#34;name&#34;</span> not set
</span></span><span style="display:flex;"><span>exit status <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><p>Running the demo successfully</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>% go run combo_example.go hello --name Adam
</span></span><span style="display:flex;"><span>Hello Adam
</span></span></code></pre></div><h2 id="accessing-set-values">Accessing Set Values<a hidden class="anchor" aria-hidden="true" href="#accessing-set-values">#</a></h2>
<p>The urfave API offers several functions to access the set values, which are found in
online <a href="https://pkg.go.dev/github.com/urfave/cli/v3#pkg-index">documentation</a>.</p>
<p>These are the functions I find myself using:</p>
<ul>
<li><a href="https://pkg.go.dev/github.com/urfave/cli/v3#Command.Names">func (cmd *Command) Names() []string</a></li>
<li><a href="https://pkg.go.dev/github.com/urfave/cli/v3#Command.String">func (cmd *Command) String(name string) string</a></li>
<li><a href="https://pkg.go.dev/github.com/urfave/cli/v3#Command.Bool">func (cmd *Command) Bool(name string) bool</a></li>
<li><a href="https://pkg.go.dev/github.com/urfave/cli/v3#Command.Int">func (cmd *Command) Int(name string) int</a></li>
</ul>
<p>Let&rsquo;s go back to the earlier <em>combo</em> example using these CLI options <code>go run combo_example.go hello --name Adam</code>.
This is the code block used in the example.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>    <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">runIt</span>(<span style="color:#a6e22e">ctx</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Context</span>, <span style="color:#a6e22e">cmd</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Command</span>) <span style="color:#66d9ef">error</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">switch</span> <span style="color:#a6e22e">cmd</span>.<span style="color:#a6e22e">Name</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;hello&#34;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">hello</span>(<span style="color:#a6e22e">cmd</span>.<span style="color:#a6e22e">String</span>(<span style="color:#e6db74">&#34;name&#34;</span>))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;goodbye&#34;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">goodbye</span>(<span style="color:#a6e22e">cmd</span>.<span style="color:#a6e22e">Int</span>(<span style="color:#e6db74">&#34;count&#34;</span>))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">default</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Unknown command&#34;</span>)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>I use cmd.Name to access the user provided subcommand.  To access user provided options (flags), use
cmd.String, cmd.Int, or cmd.Bool. Other variations like cmd.Int64 do exist. Check online documentation if needed.</p>
<h2 id="urfave-is-now-myfave">urfave is now myfave<a hidden class="anchor" aria-hidden="true" href="#urfave-is-now-myfave">#</a></h2>
<p>I started this post as a few notes for myself while learning <strong>urfave/cli</strong>, but it turned into a great reminder
of how flexible the library is.  It keeps command structure clear, couples help statements and actions to flags and subcommands,
resulting in polished CLIs.</p>
<p>If you&rsquo;re building a Go CLI and want a simple API for managing subcommands and options, give <strong>urfave/cli</strong> a try.
You&rsquo;ll spend more time thinking about command logic and less time manaaging subcommands or flag options.</p>
<p>I can be found on <a href="https://bsky.app/profile/af9.us">Bluesky</a> if you want to trade notes on building CLIs.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>

<ul class="share-buttons">
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="https://amf3.github.io/">Adam Faris</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
